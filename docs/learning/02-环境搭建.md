# 02. 环境搭建

在开始开发之前，需要安装必要的开发工具和运行环境。

## 📋 必需软件清单

### 1. .NET 8.0 SDK（必需）

**作用**: 用于编译和运行 C# 项目

**下载地址**: 
- [.NET 8.0 SDK 官方下载](https://dotnet.microsoft.com/download/dotnet/8.0)

**安装步骤**:
1. 访问下载页面
2. 选择对应系统版本（Windows x64）
3. 下载并运行安装程序
4. 安装完成后验证

**验证安装**:
```powershell
dotnet --version
# 应该显示: 8.0.x
```

### 2. Visual Studio 2022（推荐）

**作用**: 集成开发环境（IDE），提供代码编辑、调试、编译等功能

**下载地址**:
- [Visual Studio 2022 Community（免费）](https://visualstudio.microsoft.com/zh-hans/downloads/)

**安装时选择**:
- ✅ .NET 桌面开发工作负载
- ✅ Windows 应用 SDK（WinUI 3）
- ✅ .NET 8.0 SDK（如果还没安装）

**或者使用 Visual Studio Code**:
- [VS Code 下载](https://code.visualstudio.com/)
- 安装 C# 扩展
- 安装 .NET Extension Pack

### 3. Windows 10/11（必需）

**要求**:
- Windows 10 版本 1809 (17763) 或更高
- Windows 11

**检查版本**:
```powershell
winver
```

### 4. Windows App SDK（自动安装）

**说明**: 通过 NuGet 包自动安装，无需手动下载

## 🛠️ 详细安装步骤

### 步骤 1: 安装 .NET 8.0 SDK

1. **下载安装程序**
   - 访问 https://dotnet.microsoft.com/download/dotnet/8.0
   - 下载 ".NET SDK 8.0.x"（不是 Runtime）

2. **运行安装程序**
   - 双击下载的 `.exe` 文件
   - 按照向导完成安装
   - 默认安装路径: `C:\Program Files\dotnet\`

3. **验证安装**
   ```powershell
   # 打开 PowerShell 或命令提示符
   dotnet --version
   dotnet --info
   ```

### 步骤 2: 安装 Visual Studio 2022

1. **下载 Visual Studio Installer**
   - 访问 https://visualstudio.microsoft.com/zh-hans/downloads/
   - 下载 Visual Studio 2022 Community（免费版）

2. **运行安装程序**
   - 启动 Visual Studio Installer
   - 选择"修改"或"安装"

3. **选择工作负载**
   - ✅ **.NET 桌面开发**
     - 包含 .NET Framework 和 .NET 工具
   - ✅ **使用 C++ 的桌面开发**（可选，用于 WinUI 3）
   - ✅ **通用 Windows 平台开发**（可选）

4. **完成安装**
   - 点击"安装"或"修改"
   - 等待安装完成（可能需要较长时间）

### 步骤 3: 验证环境

创建测试项目验证环境：

```powershell
# 创建测试项目
dotnet new console -n TestApp
cd TestApp

# 编译项目
dotnet build

# 运行项目
dotnet run
```

如果看到 "Hello World!" 输出，说明环境配置成功！

## 🔧 可选工具

### Git（版本控制）

**下载**: [Git for Windows](https://git-scm.com/download/win)

**作用**: 用于代码版本管理和 GitHub 协作

### Windows Terminal（终端）

**下载**: Microsoft Store 搜索 "Windows Terminal"

**作用**: 更好的终端体验

## ⚠️ 常见问题

### Q1: 安装 .NET SDK 后提示找不到命令？

**解决方案**:
1. 重启终端或计算机
2. 检查环境变量 PATH 是否包含 `C:\Program Files\dotnet`
3. 手动添加到 PATH（如果缺失）

### Q2: Visual Studio 找不到 WinUI 3 模板？

**解决方案**:
1. 打开 Visual Studio Installer
2. 修改安装，确保选择了 "Windows 应用 SDK" 工作负载
3. 更新到最新版本

### Q3: 编译时提示缺少 Windows App SDK？

**解决方案**:
```powershell
# 还原 NuGet 包
dotnet restore
```

### Q4: 运行应用时提示需要 Windows App Runtime？

**解决方案**:
- 项目已配置为自包含发布，包含所有运行时
- 如果仍有问题，参考 [PUBLISH.md](../../PUBLISH.md)

## ✅ 环境检查清单

完成以下检查，确保环境配置正确：

- [ ] .NET 8.0 SDK 已安装（`dotnet --version` 显示 8.0.x）
- [ ] Visual Studio 2022 已安装（或 VS Code + C# 扩展）
- [ ] Windows 版本符合要求（1809+）
- [ ] 可以创建和运行测试项目
- [ ] Git 已安装（可选，用于版本控制）

## 📚 下一步

环境搭建完成后：
1. 克隆或下载项目 → [03-快速开始](./03-快速开始.md)
2. 运行项目，看看效果
3. 开始学习代码

---

**继续学习**: [03-快速开始](./03-快速开始.md) →

